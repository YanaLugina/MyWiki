# Определение типов

Пользовательские типы приложения PhotoShare
Основные пользовательские типы: Users и Photo.

Если нам не зватает стандартных скалярных типов - создаем свои, например ```DataTime```


Знак ```!``` означает, что поле обязательно для заполнения, не нулевое.

Для создания перечислений создаем типы enum - является скалярным типом.

```[AnyName!]!```  список, не содержит нулевых полей и поле со списком обязательно для заполнения.

При создании связи (ребра) между объектами выделяем дополнительный тип ```postedBy``` связь **один к одному**.

Соединение **один ко многим**, когда один объект с направлением ребер ко многим объектам: определяем поле ```postedPhotos``` будет возвращать список типов.

Ребра нужно делать ненаправленными, создавая возможность перемещения по ребру в обоих направлениях, тогда перемещение по узлам графа будет гибким.

В данном примере мы от типа Photo сделали связь один к одному до узла User, и в обратную сторону от User сделали связь один ко многим до узла Photo.

Соединение многие ко многим осуществляется с помощью создания списков как к узлам первого типа , так и у второго типа:
(

Например: 
```
type Photo {  
    ...
    taggedUser: [User!]!
}

type User {
    ...
    inPhotos: [Photo!]!
}
```

 Существуют **сквозные типы** для сохранения некоторой информации о связи. Определяем ребро, как тип, получаем еще один узел для соединения двух узлов.

Пример:
Вместо обычного поля со связью с объектами User, мы создаем промежуточный тип Friendship 
```
//Обычная связь
type User {
    friends: [User!]!
}

//сквозной тип для связи многие ко многим
type User {
    friends: [Friendship!]!
}

//связь и некоторая информация о связи
type Friendship {
    friend_a: User!
    friend_b: User!
    howLong: Int!
    whereWeMet: Location
}
```

Для улучшения дизайна типа Friendship и расширения возможности объединять несколько подобных объектов User
```
type Friendship {
    friends: [User!]!
    how_long: Int!
    where_we_met: Location
}
```

##Создание нашей схемы:

```

scalar DataTime

//

enum PhotoCategory {
    SELFIE
    PORTRAIT
    ACTION
    LANDSCAPE
    GRAPHIC
}

type User {
    githubLogin: ID!
    name: String
    avatar: String
    PostedPhotos: [Photo!]!
}


type Photo {
    id: ID!
    name: String!
    url: String!
    description: String
    created: DateTime!
    category: PhotoCategory!
    postedBy: User!
}





```